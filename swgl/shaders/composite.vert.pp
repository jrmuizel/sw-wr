#version 300 es

















































        precision highp sampler2DArray;


















































    uniform int uMode;


    uniform mat4 uTransform;


    in vec3 aPosition;








































































































































































uniform sampler2DArray sColor0;
uniform sampler2DArray sColor1;
uniform sampler2DArray sColor2;


















      out vec2 vUv;
flat out vec4 vColor;
flat out float vLayer;


in vec4 aDeviceRect;
in vec4 aDeviceClipRect;
in vec4 aColor;
in float aLayer;
in float aZId;

void main(void){

    vec2 world_pos = aDeviceRect . xy + aPosition . xy * aDeviceRect . zw;


    vec2 clipped_world_pos = clamp(world_pos, aDeviceClipRect . xy, aDeviceClipRect . xy + aDeviceClipRect . zw);


    vUv =(clipped_world_pos - aDeviceRect . xy)/ aDeviceRect . zw;


    vColor = aColor;
    vLayer = aLayer;
    gl_Position = uTransform * vec4(clipped_world_pos, aZId, 1.0);
}

